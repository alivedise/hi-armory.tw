<!DOCTYPE html>
<html lang="en" ng-app="wowApLevelApp" ng-strict-di>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <meta property="og:title" content="嗨... 英雄榜">
  <meta property="og:image" content="https://hi-armory.tw/images/fb_share.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:url" content="https://hi-armory.tw">
  <meta property="og:description" content="簡潔有力的魔獸世界英雄榜！彙集8成以上你會在官方英雄榜查看的資訊於一處，是預組團隊的最佳幫手">

  <title>嗨... 英雄榜</title>

  <base href="/">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.3/angular-material.min.css">
</head>
<body ng-controller="AppCtrl as $app" ng-cloak
  ng-class="{'body-overflow-hidden': !$app.resetOverflow}">

  <div class="r-page">
    <div class="r-page__content">
      <div class="c-container">
        <md-content layout-padding>
          <h1 class="md-display-2">嗨... 英雄榜</h1>

          <form ng-submit="$app.query(); ga.event('Query Button', 'click');">
            <div layout="row" layout-xs="column" layout-align="center center" layout-align-xs="start stretch">
              <md-input-container flex>
                <label>伺服器</label>
                <md-select ng-model="$app.realm">
                  <md-option ng-repeat="realm in $app.REALMS[$app.region]" value="{{realm[0]}}">
                    {{realm[0]}}
                  </md-option>
                </md-select>
              </md-input-container>
              <md-autocomplete flex
                  md-input-name="character"
                  md-input-minlength="0"
                  md-input-maxlength="18"
                  md-min-length="0"
                  md-selected-item="$app.autocompleteItem"
                  md-selected-item-change="$app.handleSelectedItemChange(item)"
                  md-search-text="$app.character"
                  md-no-cache="true"
                  md-clear-button="true"
                  md-items="item in $app.indexSearch($app.character)"
                  md-item-text="item.character"
                  md-floating-label="角色名稱"
                  md-menu-class="c-autocomplete-item">
                <md-item-template>
                  <i class="fa fa-history c-autocomplete-item__history-icon" ng-show="item.isHistory"></i><span md-highlight-text="$app.character"
                    md-highlight-flags="i">{{item.display}}</span>
                </md-item-template>
              </md-autocomplete>
              <md-button class="md-raised md-primary" type="search">查詢</md-button>
            </div>
          </form>
        </md-content>
      </div>

      <div class="c-loading ng-anim" layout="row" layout-align="space-around"
        layout-align-xs="center center"
        ng-if="
          $app.profile &&
          (
            !$app.profile.$resolved ||
              (
                !$app.profile.data &&
                ($app.profile.status != 'ready' && $app.profile.status != 'not found')
              )
          )">
        <md-progress-circular class="md-warn md-hue-2" md-diameter="70"></md-progress-circular>
      </div> <!-- .c-loading -->

      <div class="c-results ng-anim" ng-if="
        $app.profile.$resolved &&
          ($app.pd || $app.profile.status == 'not found')
      ">
        <div class="c-results__content">
          <md-content layout-padding>
            <!-- 角色資訊 card -->
            <md-card class="c-card" ng-if="$app.pd"
              ng-class="'r' + $app.pd.race"
              md-whiteframe="{{$app.mqXS ? 3 : 15}}">

              <a ui-sref="index" class="c-card__close" hide show-xs ng-click="ga.event('Close Button', 'click', 'profile');"><i class="fa fa-close"></i></a>

              <div class="md-card-image c-card__bg">
                <div class="c-card__bg__inner" ng-style="{backgroundImage: 'url('+ $app.pp.picture.profile +')'}"></div>
                <div class="c-card__bg__cover"></div>

                <div class="c-card__bg__content">
                  <div class="c-card__name"
                    ng-class="{
                      'md-display-3': !$app.mqXS,
                      'md-display-2': $app.mqXS
                    }">
                    {{$app.pd.name}}
                  </div>
                  <div class="c-card__meta">
                    <a ng-href="{{$app.pp.talentCalcLink}}" target="_blank"
                      class="s-class-color"
                      ng-class="'c' + $app.pd.class"
                      ng-click="ga.event('Talent Calc Link', 'click');">{{$app.pp.talentName}}({{$app.pp.talentStr}}) {{$app.pp.className}}</a>
                  </div>
                </div>
              </div> <!-- .c-card__bg -->

              <md-card-content>
                <div layout="row" layout-xs="column">
                  <div flex="33" flex-xs="100">
                    <span class="md-body-1 c-card__fname">實裝</span>
                    <span class="c-card__fval">{{$app.pp.avgIlvEquipped}}</span>
                  </div>
                  <div flex="33" flex-xs="100">
                    <span class="md-body-1 c-card__fname">虛裝</span>
                    <span class="c-card__fval">{{$app.pp.avgIlv}}</span>
                  </div>
                  <div flex="33" flex-xs="100">
                    <span class="md-body-1 c-card__fname">神器裝等</span>
                    <span class="c-card__fval">{{$app.pp.artifactIlv || '-'}}</span>
                  </div>
                </div>
                <div layout="row" layout-xs="column" ng-show="$app.pp.artifactIlv">
                  <div flex="33" flex-xs="100">
                    <span class="md-body-1 c-card__fname">神器特質數</span>
                    <span class="c-card__fval"><a ng-href="{{$app.pp.artifactCalcLink}}" target="_blank" ng-click="ga.event('Artifact Calc Link', 'click');">{{$app.pp.totalTraits}}</a></span>
                  </div>
                  <div flex="66" flex-xs="100">
                    <span class="md-body-1 c-card__fname">7.2 新神器特質</span>
                    <span class="c-card__fval">{{$app.pp.newTraitsUnlocked ? '已解鎖' : '未解鎖'}}</span>
                  </div>
                </div>
                <div class="c-card__progress-section">
                  <div class="c-card__progress-row" layout="row" layout-xs="column" ng-repeat="raid in $app.pp.expStr track by $index">
                    <div flex="33" flex-xs="100" layout-gt-xs="row" layout-align-gt-xs="start center">
                      <div class="md-body-1 c-card__fname" flex>{{raid.name}}經驗</div>
                    </div>
                    <div flex="66" flex-xs="100" layout-gt-xs="row" layout-align-gt-xs="start center">
                      <div class="c-card__fval" flex>{{raid.str}}</div>
                    </div>
                  </div>
                </div>
              </md-card-content>
              <!-- <md-divider></md-divider> -->
              <div class="c-card__footer" layout="row" layout-xs="column">
                <div flex="33" flex-xs="50">
                  英雄榜更新: <time-ago time="$app.pd.lastModified"></time-ago>
                </div>
                <div flex="33" flex-xs="50">
                  資料抓取: <time-ago time="$app.profile.dataUpdatedAt"></time-ago>
                </div>
                <div flex="33" flex-xs="100">
                  <md-fab-speed-dial md-direction="up" class="md-scale ng-anim c-outbound">
                    <md-fab-trigger>
                      <md-button aria-label="menu" class="md-fab md-warn md-mini" title="其它連結">
                        <i class="fa fa-external-link-square"></i>
                      </md-button>
                    </md-fab-trigger>

                    <md-fab-actions>
                      <md-button aria-label="英雄榜" class="md-fab md-raised md-mini"
                        ng-click="$app.outbound('armory')" title="前往 英雄榜">
                        <span>英雄</span>
                      </md-button>
                      <md-button aria-label="WoWProgress" class="md-fab md-raised md-mini"
                        ng-click="$app.outbound('wowprogress')" title="前往 WoWProgress">
                        <span>WP</span>
                      </md-button>
                      <md-button ng-if="$app.wclId.$value" aria-label="Warcraft Logs" class="md-fab md-raised md-mini ng-anim"
                        ng-click="$app.outbound('warcraftlogs')" title="前往 Warcraft Logs">
                        <span>WCL</span>
                      </md-button>
                    </md-fab-actions>
                  </md-fab-speed-dial>
                  <ha-reload class="c-reload"
                    status="$app.profile.status"
                    show-status="$app.profile.status !== 'ready'"
                    on-click="$app.reload(); ga.event('Reload Button', 'click');"
                    spin="$app.profile.status !== 'ready' || $app.reloading"
                    title="重新抓取資料"
                  ></ha-reload>
                </div>
              </div>
            </md-card>

            <!-- 查無角色 card -->
            <md-card class="c-card c-card--not-found" ng-if="$app.profile.status == 'not found'" md-whiteframe="{{$app.mqXS ? 3 : 15}}">
              <a ui-sref="index" class="c-card__close" hide show-xs ng-click="ga.event('Close Button', 'click', 'not found');"><i class="fa fa-close"></i></a>
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">查無此角色</span>
                </md-card-title-text>
              </md-card-title>
              <md-card-content>
                請再次確認 伺服器 跟 角色名稱 是否正確喔！
              </md-card-content>
              <div class="c-card__footer" layout="row" layout-xs="column">
                <div flex="50" flex-xs="50">
                  資料抓取: <time-ago time="$app.profile.statusUpdatedAt"></time-ago>
                </div>
                <div flex="50" flex-xs="100">
                  <ha-reload class="c-reload"
                    status="$app.profile.status"
                    show-status="
                      $app.profile.status !== 'ready' &&
                      $app.profile.status !== 'not found'
                    "
                    on-click="$app.reload(); ga.event('Reload Button', 'click');"
                    spin="
                      $app.profile.status == 'pending' || $app.profile.status == 'processing' || $app.reloading
                    "
                  ></ha-reload>
                </div>
              </div>
            </md-card>
          </md-content>
        </div> <!-- .c-results__content -->
      </div> <!-- .c-results -->
    </div>

    <div class="r-page__footer">
      <div class="md-caption">
        由 <a href="https://github.com/pc035860" target="_blank">@pc035860</a> 製作與維護
        <a class="github-button" href="https://github.com/pc035860/hi-armory.tw" data-count-href="/pc035860/hi-armory.tw/stargazers" data-count-api="/repos/pc035860/hi-armory.tw#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star pc035860/hi-armory.tw on GitHub">Star</a>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/locale/zh-tw.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular-animate.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular-aria.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular-messages.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.4.2/angular-ui-router.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.3/angular-material.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.4.2/angular-ui-router.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase-storage.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angularFire/2.3.0/angularfire.min.js"></script>
  <script src="bundle.js"></script>

  <script async defer src="https://buttons.github.io/buttons.js"></script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-96758980-1', 'auto');
  </script>
</body>
</html>
